// fflate@0.8.2 downloaded from https://ga.jspm.io/npm:fflate@0.8.2/esm/browser.js

var t={};var wk=function(n,r,i,e,a){var s=new Worker(t[r]||(t[r]=URL.createObjectURL(new Blob([n+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));s.onmessage=function(t){var n=t.data,r=n.$e$;if(r){var i=new Error(r[0]);i.code=r[1];i.stack=r[2];a(i,null)}else a(null,n)};s.postMessage(i,e);return s};var n=Uint8Array,r=Uint16Array,i=Int32Array;var e=new n([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]);var a=new n([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]);var s=new n([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);var freb=function(t,n){var e=new r(31);for(var a=0;a<31;++a)e[a]=n+=1<<t[a-1];var s=new i(e[30]);for(a=1;a<30;++a)for(var o=e[a];o<e[a+1];++o)s[o]=o-e[a]<<5|a;return{b:e,r:s}};var o=freb(e,2),u=o.b,f=o.r;u[28]=258,f[258]=28;var h=freb(a,0),l=h.b,c=h.r;var v=new r(32768);for(var p=0;p<32768;++p){var d=(p&43690)>>1|(p&21845)<<1;d=(d&52428)>>2|(d&13107)<<2;d=(d&61680)>>4|(d&3855)<<4;v[p]=((d&65280)>>8|(d&255)<<8)>>1}var hMap=function(t,n,i){var e=t.length;var a=0;var s=new r(n);for(;a<e;++a)t[a]&&++s[t[a]-1];var o=new r(n);for(a=1;a<n;++a)o[a]=o[a-1]+s[a-1]<<1;var u;if(i){u=new r(1<<n);var f=15-n;for(a=0;a<e;++a)if(t[a]){var h=a<<4|t[a];var l=n-t[a];var c=o[t[a]-1]++<<l;for(var p=c|(1<<l)-1;c<=p;++c)u[v[c]>>f]=h}}else{u=new r(e);for(a=0;a<e;++a)t[a]&&(u[a]=v[o[t[a]-1]++]>>15-t[a])}return u};var g=new n(288);for(p=0;p<144;++p)g[p]=8;for(p=144;p<256;++p)g[p]=9;for(p=256;p<280;++p)g[p]=7;for(p=280;p<288;++p)g[p]=8;var y=new n(32);for(p=0;p<32;++p)y[p]=5;var m=hMap(g,9,0),b=hMap(g,9,1);var z=hMap(y,5,0),S=hMap(y,5,1);var max=function(t){var n=t[0];for(var r=1;r<t.length;++r)t[r]>n&&(n=t[r]);return n};var bits=function(t,n,r){var i=n/8|0;return(t[i]|t[i+1]<<8)>>(n&7)&r};var bits16=function(t,n){var r=n/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(n&7)};var shft=function(t){return(t+7)/8|0};var slc=function(t,r,i){(r==null||r<0)&&(r=0);(i==null||i>t.length)&&(i=t.length);return new n(t.subarray(r,i))};var U={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14};var A=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"];var err=function(t,n,r){var i=new Error(n||A[t]);i.code=t;Error.captureStackTrace&&Error.captureStackTrace(i,err);if(!r)throw i;return i};var inflt=function(t,r,i,o){var f=t.length,h=o?o.length:0;if(!f||r.f&&!r.l)return i||new n(0);var c=!i;var v=c||r.i!=2;var p=r.i;c&&(i=new n(f*3));var cbuf=function(t){var r=i.length;if(t>r){var e=new n(Math.max(r*2,t));e.set(i);i=e}};var d=r.f||0,g=r.p||0,y=r.b||0,m=r.l,z=r.d,U=r.m,A=r.n;var D=f*8;do{if(!m){d=bits(t,g,1);var T=bits(t,g+1,3);g+=3;if(!T){var k=shft(g)+4,M=t[k-4]|t[k-3]<<8,x=k+M;if(x>f){p&&err(0);break}v&&cbuf(y+M);i.set(t.subarray(k,x),y);r.b=y+=M,r.p=g=x*8,r.f=d;continue}if(T==1)m=b,z=S,U=9,A=5;else if(T==2){var Z=bits(t,g,31)+257,I=bits(t,g+10,15)+4;var F=Z+bits(t,g+5,31)+1;g+=14;var C=new n(F);var O=new n(19);for(var G=0;G<I;++G)O[s[G]]=bits(t,g+G*3,7);g+=I*3;var E=max(O),q=(1<<E)-1;var P=hMap(O,E,1);for(G=0;G<F;){var L=P[bits(t,g,q)];g+=L&15;k=L>>4;if(k<16)C[G++]=k;else{var $=0,j=0;k==16?(j=3+bits(t,g,3),g+=2,$=C[G-1]):k==17?(j=3+bits(t,g,7),g+=3):k==18&&(j=11+bits(t,g,127),g+=7);while(j--)C[G++]=$}}var H=C.subarray(0,Z),B=C.subarray(Z);U=max(H);A=max(B);m=hMap(H,U,1);z=hMap(B,A,1)}else err(1);if(g>D){p&&err(0);break}}v&&cbuf(y+131072);var N=(1<<U)-1,R=(1<<A)-1;var W=g;for(;;W=g){$=m[bits16(t,g)&N];var Y=$>>4;g+=$&15;if(g>D){p&&err(0);break}$||err(2);if(Y<256)i[y++]=Y;else{if(Y==256){W=g,m=null;break}var J=Y-254;if(Y>264){G=Y-257;var K=e[G];J=bits(t,g,(1<<K)-1)+u[G];g+=K}var Q=z[bits16(t,g)&R],V=Q>>4;Q||err(3);g+=Q&15;B=l[V];if(V>3){K=a[V];B+=bits16(t,g)&(1<<K)-1,g+=K}if(g>D){p&&err(0);break}v&&cbuf(y+131072);var X=y+J;if(y<B){var _=h-B,tt=Math.min(B,X);_+y<0&&err(3);for(;y<tt;++y)i[y]=o[_+y]}for(;y<X;++y)i[y]=i[y-B]}}r.l=m,r.p=W,r.b=y,r.f=d;m&&(d=1,r.m=U,r.d=z,r.n=A)}while(!d);return y!=i.length&&c?slc(i,0,y):i.subarray(0,y)};var wbits=function(t,n,r){r<<=n&7;var i=n/8|0;t[i]|=r;t[i+1]|=r>>8};var wbits16=function(t,n,r){r<<=n&7;var i=n/8|0;t[i]|=r;t[i+1]|=r>>8;t[i+2]|=r>>16};var hTree=function(t,i){var e=[];for(var a=0;a<t.length;++a)t[a]&&e.push({s:a,f:t[a]});var s=e.length;var o=e.slice();if(!s)return{t:T,l:0};if(s==1){var u=new n(e[0].s+1);u[e[0].s]=1;return{t:u,l:1}}e.sort((function(t,n){return t.f-n.f}));e.push({s:-1,f:25001});var f=e[0],h=e[1],l=0,c=1,v=2;e[0]={s:-1,f:f.f+h.f,l:f,r:h};while(c!=s-1){f=e[e[l].f<e[v].f?l++:v++];h=e[l!=c&&e[l].f<e[v].f?l++:v++];e[c++]={s:-1,f:f.f+h.f,l:f,r:h}}var p=o[0].s;for(a=1;a<s;++a)o[a].s>p&&(p=o[a].s);var d=new r(p+1);var g=ln(e[c-1],d,0);if(g>i){a=0;var y=0;var m=g-i,b=1<<m;o.sort((function(t,n){return d[n.s]-d[t.s]||t.f-n.f}));for(;a<s;++a){var z=o[a].s;if(!(d[z]>i))break;y+=b-(1<<g-d[z]);d[z]=i}y>>=m;while(y>0){var S=o[a].s;d[S]<i?y-=1<<i-d[S]++-1:++a}for(;a>=0&&y;--a){var U=o[a].s;if(d[U]==i){--d[U];++y}}g=i}return{t:new n(d),l:g}};var ln=function(t,n,r){return t.s==-1?Math.max(ln(t.l,n,r+1),ln(t.r,n,r+1)):n[t.s]=r};var lc=function(t){var n=t.length;while(n&&!t[--n]);var i=new r(++n);var e=0,a=t[0],s=1;var w=function(t){i[e++]=t};for(var o=1;o<=n;++o)if(t[o]==a&&o!=n)++s;else{if(!a&&s>2){for(;s>138;s-=138)w(32754);if(s>2){w(s>10?s-11<<5|28690:s-3<<5|12305);s=0}}else if(s>3){w(a),--s;for(;s>6;s-=6)w(8304);s>2&&(w(s-3<<5|8208),s=0)}while(s--)w(a);s=1;a=t[o]}return{c:i.subarray(0,e),n:n}};var clen=function(t,n){var r=0;for(var i=0;i<n.length;++i)r+=t[i]*n[i];return r};var wfblk=function(t,n,r){var i=r.length;var e=shft(n+2);t[e]=i&255;t[e+1]=i>>8;t[e+2]=t[e]^255;t[e+3]=t[e+1]^255;for(var a=0;a<i;++a)t[e+a+4]=r[a];return(e+4+i)*8};var wblk=function(t,n,i,o,u,f,h,l,c,v,p){wbits(n,p++,i);++u[256];var d=hTree(u,15),b=d.t,S=d.l;var U=hTree(f,15),A=U.t,D=U.l;var T=lc(b),k=T.c,M=T.n;var x=lc(A),Z=x.c,I=x.n;var F=new r(19);for(var C=0;C<k.length;++C)++F[k[C]&31];for(C=0;C<Z.length;++C)++F[Z[C]&31];var O=hTree(F,7),G=O.t,E=O.l;var q=19;for(;q>4&&!G[s[q-1]];--q);var P=v+5<<3;var L=clen(u,g)+clen(f,y)+h;var $=clen(u,b)+clen(f,A)+h+14+3*q+clen(F,G)+2*F[16]+3*F[17]+7*F[18];if(c>=0&&P<=L&&P<=$)return wfblk(n,p,t.subarray(c,c+v));var j,H,B,N;wbits(n,p,1+($<L)),p+=2;if($<L){j=hMap(b,S,0),H=b,B=hMap(A,D,0),N=A;var R=hMap(G,E,0);wbits(n,p,M-257);wbits(n,p+5,I-1);wbits(n,p+10,q-4);p+=14;for(C=0;C<q;++C)wbits(n,p+3*C,G[s[C]]);p+=3*q;var W=[k,Z];for(var Y=0;Y<2;++Y){var J=W[Y];for(C=0;C<J.length;++C){var K=J[C]&31;wbits(n,p,R[K]),p+=G[K];K>15&&(wbits(n,p,J[C]>>5&127),p+=J[C]>>12)}}}else j=m,H=g,B=z,N=y;for(C=0;C<l;++C){var Q=o[C];if(Q>255){K=Q>>18&31;wbits16(n,p,j[K+257]),p+=H[K+257];K>7&&(wbits(n,p,Q>>23&31),p+=e[K]);var V=Q&31;wbits16(n,p,B[V]),p+=N[V];V>3&&(wbits16(n,p,Q>>5&8191),p+=a[V])}else wbits16(n,p,j[Q]),p+=H[Q]}wbits16(n,p,j[256]);return p+H[256]};var D=new i([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]);var T=new n(0);var dflt=function(t,s,o,u,h,l){var v=l.z||t.length;var p=new n(u+v+5*(1+Math.ceil(v/7e3))+h);var d=p.subarray(u,p.length-h);var g=l.l;var y=(l.r||0)&7;if(s){y&&(d[0]=l.r>>3);var m=D[s-1];var b=m>>13,z=m&8191;var S=(1<<o)-1;var U=l.p||new r(32768),A=l.h||new r(S+1);var T=Math.ceil(o/3),k=2*T;var hsh=function(n){return(t[n]^t[n+1]<<T^t[n+2]<<k)&S};var M=new i(25e3);var x=new r(288),Z=new r(32);var I=0,F=0,C=l.i||0,O=0,G=l.w||0,E=0;for(;C+2<v;++C){var q=hsh(C);var P=C&32767,L=A[q];U[P]=L;A[q]=P;if(G<=C){var $=v-C;if((I>7e3||O>24576)&&($>423||!g)){y=wblk(t,d,0,M,x,Z,F,O,E,C-E,y);O=I=F=0,E=C;for(var j=0;j<286;++j)x[j]=0;for(j=0;j<30;++j)Z[j]=0}var H=2,B=0,N=z,R=P-L&32767;if($>2&&q==hsh(C-R)){var W=Math.min(b,$)-1;var Y=Math.min(32767,C);var J=Math.min(258,$);while(R<=Y&&--N&&P!=L){if(t[C+H]==t[C+H-R]){var K=0;for(;K<J&&t[C+K]==t[C+K-R];++K);if(K>H){H=K,B=R;if(K>W)break;var Q=Math.min(R,K-2);var V=0;for(j=0;j<Q;++j){var X=C-R+j&32767;var _=U[X];var tt=X-_&32767;tt>V&&(V=tt,L=X)}}}P=L,L=U[P];R+=P-L&32767}}if(B){M[O++]=268435456|f[H]<<18|c[B];var nt=f[H]&31,rt=c[B]&31;F+=e[nt]+a[rt];++x[257+nt];++Z[rt];G=C+H;++I}else{M[O++]=t[C];++x[t[C]]}}}for(C=Math.max(C,G);C<v;++C){M[O++]=t[C];++x[t[C]]}y=wblk(t,d,g,M,x,Z,F,O,E,C-E,y);if(!g){l.r=y&7|d[y/8|0]<<3;y-=7;l.h=A,l.p=U,l.i=C,l.w=G}}else{for(C=l.w||0;C<v+g;C+=65535){var it=C+65535;if(it>=v){d[y/8|0]=g;it=v}y=wfblk(d,y+1,t.subarray(C,it))}l.i=v}return slc(p,0,u+shft(y)+h)};var k=function(){var t=new Int32Array(256);for(var n=0;n<256;++n){var r=n,i=9;while(--i)r=(r&1&&-306674912)^r>>>1;t[n]=r}return t}();var crc=function(){var t=-1;return{p:function(n){var r=t;for(var i=0;i<n.length;++i)r=k[r&255^n[i]]^r>>>8;t=r},d:function(){return~t}}};var adler=function(){var t=1,n=0;return{p:function(r){var i=t,e=n;var a=r.length|0;for(var s=0;s!=a;){var o=Math.min(s+2655,a);for(;s<o;++s)e+=i+=r[s];i=(i&65535)+15*(i>>16),e=(e&65535)+15*(e>>16)}t=i,n=e},d:function(){t%=65521,n%=65521;return(t&255)<<24|(t&65280)<<8|(n&255)<<8|n>>8}}};var dopt=function(t,r,i,e,a){if(!a){a={l:1};if(r.dictionary){var s=r.dictionary.subarray(-32768);var o=new n(s.length+t.length);o.set(s);o.set(t,s.length);t=o;a.w=s.length}}return dflt(t,r.level==null?6:r.level,r.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+r.mem,i,e,a)};var mrg=function(t,n){var r={};for(var i in t)r[i]=t[i];for(var i in n)r[i]=n[i];return r};var wcln=function(t,n,r){var i=t();var e=t.toString();var a=e.slice(e.indexOf("[")+1,e.lastIndexOf("]")).replace(/\s+/g,"").split(",");for(var s=0;s<i.length;++s){var o=i[s],u=a[s];if(typeof o=="function"){n+=";"+u+"=";var f=o.toString();if(o.prototype)if(f.indexOf("[native code]")!=-1){var h=f.indexOf(" ",8)+1;n+=f.slice(h,f.indexOf("(",h))}else{n+=f;for(var l in o.prototype)n+=";"+u+".prototype."+l+"="+o.prototype[l].toString()}else n+=f}else r[u]=o}return n};var M=[];var cbfs=function(t){var n=[];for(var r in t)t[r].buffer&&n.push((t[r]=new t[r].constructor(t[r])).buffer);return n};var wrkr=function(t,n,r,i){if(!M[r]){var e="",a={},s=t.length-1;for(var o=0;o<s;++o)e=wcln(t[o],e,a);M[r]={c:wcln(t[s],e,a),e:a}}var u=mrg({},M[r].e);return wk(M[r].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+n.toString()+"}",r,u,cbfs(u),i)};var bInflt=function(){return[n,r,i,e,a,s,u,l,b,S,v,A,hMap,max,bits,bits16,shft,slc,err,inflt,inflateSync,pbf,gopt]};var bDflt=function(){return[n,r,i,e,a,s,f,c,m,g,z,y,v,D,T,hMap,wbits,wbits16,hTree,ln,lc,clen,wfblk,wblk,shft,slc,dflt,dopt,deflateSync,pbf]};var gze=function(){return[gzh,gzhl,wbytes,crc,k]};var guze=function(){return[gzs,gzl]};var zle=function(){return[zlh,wbytes,adler]};var zule=function(){return[zls]};var pbf=function(t){return postMessage(t,[t.buffer])};var gopt=function(t){return t&&{out:t.size&&new n(t.size),dictionary:t.dictionary}};var cbify=function(t,n,r,i,e,a){var s=wrkr(r,i,e,(function(t,n){s.terminate();a(t,n)}));s.postMessage([t,n],n.consume?[t.buffer]:[]);return function(){s.terminate()}};var astrm=function(t){t.ondata=function(t,n){return postMessage([t,n],[t.buffer])};return function(n){if(n.data.length){t.push(n.data[0],n.data[1]);postMessage([n.data[0].length])}else t.flush()}};var astrmify=function(t,n,r,i,e,a,s){var o;var u=wrkr(t,i,e,(function(t,r){if(t)u.terminate(),n.ondata.call(n,t);else if(Array.isArray(r))if(r.length==1){n.queuedSize-=r[0];n.ondrain&&n.ondrain(r[0])}else{r[1]&&u.terminate();n.ondata.call(n,t,r[0],r[1])}else s(r)}));u.postMessage(r);n.queuedSize=0;n.push=function(t,r){n.ondata||err(5);o&&n.ondata(err(4,0,1),null,!!r);n.queuedSize+=t.length;u.postMessage([t,o=r],[t.buffer])};n.terminate=function(){u.terminate()};a&&(n.flush=function(){u.postMessage([])})};var b2=function(t,n){return t[n]|t[n+1]<<8};var b4=function(t,n){return(t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24)>>>0};var b8=function(t,n){return b4(t,n)+b4(t,n+4)*4294967296};var wbytes=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8};var gzh=function(t,n){var r=n.filename;t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:n.level==9?2:0,t[9]=3;n.mtime!=0&&wbytes(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3));if(r){t[3]=8;for(var i=0;i<=r.length;++i)t[i+10]=r.charCodeAt(i)}};var gzs=function(t){t[0]==31&&t[1]==139&&t[2]==8||err(6,"invalid gzip data");var n=t[3];var r=10;n&4&&(r+=2+(t[10]|t[11]<<8));for(var i=(n>>3&1)+(n>>4&1);i>0;i-=!t[r++]);return r+(n&2)};var gzl=function(t){var n=t.length;return(t[n-4]|t[n-3]<<8|t[n-2]<<16|t[n-1]<<24)>>>0};var gzhl=function(t){return 10+(t.filename?t.filename.length+1:0)};var zlh=function(t,n){var r=n.level,i=r==0?0:r<6?1:r==9?3:2;t[0]=120,t[1]=i<<6|(n.dictionary&&32);t[1]|=31-(t[0]<<8|t[1])%31;if(n.dictionary){var e=adler();e.p(n.dictionary);wbytes(t,2,e.d())}};var zls=function(t,n){((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&err(6,"invalid zlib data");(t[1]>>5&1)==+!n&&err(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary");return 2+(t[1]>>3&4)};function StrmOpt(t,n){typeof t=="function"&&(n=t,t={});this.ondata=n;return t}var x=function(){function Deflate(t,r){typeof t=="function"&&(r=t,t={});this.ondata=r;this.o=t||{};this.s={l:0,i:32768,w:32768,z:32768};this.b=new n(98304);if(this.o.dictionary){var i=this.o.dictionary.subarray(-32768);this.b.set(i,32768-i.length);this.s.i=32768-i.length}}Deflate.prototype.p=function(t,n){this.ondata(dopt(t,this.o,0,0,this.s),n)};
/**
     * Pushes a chunk to be deflated
     * @param chunk The chunk to push
     * @param final Whether this is the last chunk
     */Deflate.prototype.push=function(t,r){this.ondata||err(5);this.s.l&&err(4);var i=t.length+this.s.z;if(i>this.b.length){if(i>2*this.b.length-32768){var e=new n(i&-32768);e.set(this.b.subarray(0,this.s.z));this.b=e}var a=this.b.length-this.s.z;this.b.set(t.subarray(0,a),this.s.z);this.s.z=this.b.length;this.p(this.b,false);this.b.set(this.b.subarray(-32768));this.b.set(t.subarray(a),32768);this.s.z=t.length-a+32768;this.s.i=32766,this.s.w=32768}else{this.b.set(t,this.s.z);this.s.z+=t.length}this.s.l=r&1;if(this.s.z>this.s.w+8191||r){this.p(this.b,r||false);this.s.w=this.s.i,this.s.i-=2}};Deflate.prototype.flush=function(){this.ondata||err(5);this.s.l&&err(4);this.p(this.b,false);this.s.w=this.s.i,this.s.i-=2};return Deflate}();var Z=function(){function AsyncDeflate(t,n){astrmify([bDflt,function(){return[astrm,x]}],this,StrmOpt.call(this,t,n),(function(t){var n=new x(t.data);onmessage=astrm(n)}),6,1)}return AsyncDeflate}();function deflate(t,n,r){r||(r=n,n={});typeof r!="function"&&err(7);return cbify(t,n,[bDflt],(function(t){return pbf(deflateSync(t.data[0],t.data[1]))}),0,r)}
/**
 * Compresses data with DEFLATE without any wrapper
 * @param data The data to compress
 * @param opts The compression options
 * @returns The deflated version of the data
 */function deflateSync(t,n){return dopt(t,n||{},0,0)}var I=function(){function Inflate(t,r){typeof t=="function"&&(r=t,t={});this.ondata=r;var i=t&&t.dictionary&&t.dictionary.subarray(-32768);this.s={i:0,b:i?i.length:0};this.o=new n(32768);this.p=new n(0);i&&this.o.set(i)}Inflate.prototype.e=function(t){this.ondata||err(5);this.d&&err(4);if(this.p.length){if(t.length){var r=new n(this.p.length+t.length);r.set(this.p),r.set(t,this.p.length),this.p=r}}else this.p=t};Inflate.prototype.c=function(t){this.s.i=+(this.d=t||false);var n=this.s.b;var r=inflt(this.p,this.s,this.o);this.ondata(slc(r,n,this.s.b),this.d);this.o=slc(r,this.s.b-32768),this.s.b=this.o.length;this.p=slc(this.p,this.s.p/8|0),this.s.p&=7};
/**
     * Pushes a chunk to be inflated
     * @param chunk The chunk to push
     * @param final Whether this is the final chunk
     */Inflate.prototype.push=function(t,n){this.e(t),this.c(n)};return Inflate}();var F=function(){function AsyncInflate(t,n){astrmify([bInflt,function(){return[astrm,I]}],this,StrmOpt.call(this,t,n),(function(t){var n=new I(t.data);onmessage=astrm(n)}),7,0)}return AsyncInflate}();function inflate(t,n,r){r||(r=n,n={});typeof r!="function"&&err(7);return cbify(t,n,[bInflt],(function(t){return pbf(inflateSync(t.data[0],gopt(t.data[1])))}),1,r)}
/**
 * Expands DEFLATE data with no wrapper
 * @param data The data to decompress
 * @param opts The decompression options
 * @returns The decompressed version of the data
 */function inflateSync(t,n){return inflt(t,{i:2},n&&n.out,n&&n.dictionary)}var C=function(){function Gzip(t,n){this.c=crc();this.l=0;this.v=1;x.call(this,t,n)}
/**
     * Pushes a chunk to be GZIPped
     * @param chunk The chunk to push
     * @param final Whether this is the last chunk
     */Gzip.prototype.push=function(t,n){this.c.p(t);this.l+=t.length;x.prototype.push.call(this,t,n)};Gzip.prototype.p=function(t,n){var r=dopt(t,this.o,this.v&&gzhl(this.o),n&&8,this.s);this.v&&(gzh(r,this.o),this.v=0);n&&(wbytes(r,r.length-8,this.c.d()),wbytes(r,r.length-4,this.l));this.ondata(r,n)};Gzip.prototype.flush=function(){x.prototype.flush.call(this)};return Gzip}();var O=function(){function AsyncGzip(t,n){astrmify([bDflt,gze,function(){return[astrm,x,C]}],this,StrmOpt.call(this,t,n),(function(t){var n=new C(t.data);onmessage=astrm(n)}),8,1)}return AsyncGzip}();function gzip(t,n,r){r||(r=n,n={});typeof r!="function"&&err(7);return cbify(t,n,[bDflt,gze,function(){return[gzipSync]}],(function(t){return pbf(gzipSync(t.data[0],t.data[1]))}),2,r)}
/**
 * Compresses data with GZIP
 * @param data The data to compress
 * @param opts The compression options
 * @returns The gzipped version of the data
 */function gzipSync(t,n){n||(n={});var r=crc(),i=t.length;r.p(t);var e=dopt(t,n,gzhl(n),8),a=e.length;return gzh(e,n),wbytes(e,a-8,r.d()),wbytes(e,a-4,i),e}var G=function(){function Gunzip(t,n){this.v=1;this.r=0;I.call(this,t,n)}
/**
     * Pushes a chunk to be GUNZIPped
     * @param chunk The chunk to push
     * @param final Whether this is the last chunk
     */Gunzip.prototype.push=function(t,r){I.prototype.e.call(this,t);this.r+=t.length;if(this.v){var i=this.p.subarray(this.v-1);var e=i.length>3?gzs(i):4;if(e>i.length){if(!r)return}else this.v>1&&this.onmember&&this.onmember(this.r-i.length);this.p=i.subarray(e),this.v=0}I.prototype.c.call(this,r);if(this.s.f&&!this.s.l&&!r){this.v=shft(this.s.p)+9;this.s={i:0};this.o=new n(0);this.push(new n(0),r)}};return Gunzip}();var E=function(){function AsyncGunzip(t,n){var r=this;astrmify([bInflt,guze,function(){return[astrm,I,G]}],this,StrmOpt.call(this,t,n),(function(t){var n=new G(t.data);n.onmember=function(t){return postMessage(t)};onmessage=astrm(n)}),9,0,(function(t){return r.onmember&&r.onmember(t)}))}return AsyncGunzip}();function gunzip(t,n,r){r||(r=n,n={});typeof r!="function"&&err(7);return cbify(t,n,[bInflt,guze,function(){return[gunzipSync]}],(function(t){return pbf(gunzipSync(t.data[0],t.data[1]))}),3,r)}
/**
 * Expands GZIP data
 * @param data The data to decompress
 * @param opts The decompression options
 * @returns The decompressed version of the data
 */function gunzipSync(t,r){var i=gzs(t);i+8>t.length&&err(6,"invalid gzip data");return inflt(t.subarray(i,-8),{i:2},r&&r.out||new n(gzl(t)),r&&r.dictionary)}var q=function(){function Zlib(t,n){this.c=adler();this.v=1;x.call(this,t,n)}
/**
     * Pushes a chunk to be zlibbed
     * @param chunk The chunk to push
     * @param final Whether this is the last chunk
     */Zlib.prototype.push=function(t,n){this.c.p(t);x.prototype.push.call(this,t,n)};Zlib.prototype.p=function(t,n){var r=dopt(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(zlh(r,this.o),this.v=0);n&&wbytes(r,r.length-4,this.c.d());this.ondata(r,n)};Zlib.prototype.flush=function(){x.prototype.flush.call(this)};return Zlib}();var P=function(){function AsyncZlib(t,n){astrmify([bDflt,zle,function(){return[astrm,x,q]}],this,StrmOpt.call(this,t,n),(function(t){var n=new q(t.data);onmessage=astrm(n)}),10,1)}return AsyncZlib}();function zlib(t,n,r){r||(r=n,n={});typeof r!="function"&&err(7);return cbify(t,n,[bDflt,zle,function(){return[zlibSync]}],(function(t){return pbf(zlibSync(t.data[0],t.data[1]))}),4,r)}
/**
 * Compress data with Zlib
 * @param data The data to compress
 * @param opts The compression options
 * @returns The zlib-compressed version of the data
 */function zlibSync(t,n){n||(n={});var r=adler();r.p(t);var i=dopt(t,n,n.dictionary?6:2,4);return zlh(i,n),wbytes(i,i.length-4,r.d()),i}var L=function(){function Unzlib(t,n){I.call(this,t,n);this.v=t&&t.dictionary?2:1}
/**
     * Pushes a chunk to be unzlibbed
     * @param chunk The chunk to push
     * @param final Whether this is the last chunk
     */Unzlib.prototype.push=function(t,n){I.prototype.e.call(this,t);if(this.v){if(this.p.length<6&&!n)return;this.p=this.p.subarray(zls(this.p,this.v-1)),this.v=0}if(n){this.p.length<4&&err(6,"invalid zlib data");this.p=this.p.subarray(0,-4)}I.prototype.c.call(this,n)};return Unzlib}();var $=function(){function AsyncUnzlib(t,n){astrmify([bInflt,zule,function(){return[astrm,I,L]}],this,StrmOpt.call(this,t,n),(function(t){var n=new L(t.data);onmessage=astrm(n)}),11,0)}return AsyncUnzlib}();function unzlib(t,n,r){r||(r=n,n={});typeof r!="function"&&err(7);return cbify(t,n,[bInflt,zule,function(){return[unzlibSync]}],(function(t){return pbf(unzlibSync(t.data[0],gopt(t.data[1])))}),5,r)}
/**
 * Expands Zlib data
 * @param data The data to decompress
 * @param opts The decompression options
 * @returns The decompressed version of the data
 */function unzlibSync(t,n){return inflt(t.subarray(zls(t,n&&n.dictionary),-4),{i:2},n&&n.out,n&&n.dictionary)}var j=function(){function Decompress(t,n){this.o=StrmOpt.call(this,t,n)||{};this.G=G;this.I=I;this.Z=L}Decompress.prototype.i=function(){var t=this;this.s.ondata=function(n,r){t.ondata(n,r)}};
/**
     * Pushes a chunk to be decompressed
     * @param chunk The chunk to push
     * @param final Whether this is the last chunk
     */Decompress.prototype.push=function(t,r){this.ondata||err(5);if(this.s)this.s.push(t,r);else{if(this.p&&this.p.length){var i=new n(this.p.length+t.length);i.set(this.p),i.set(t,this.p.length)}else this.p=t;if(this.p.length>2){this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o);this.i();this.s.push(this.p,r);this.p=null}}};return Decompress}();var H=function(){function AsyncDecompress(t,n){j.call(this,t,n);this.queuedSize=0;this.G=E;this.I=F;this.Z=$}AsyncDecompress.prototype.i=function(){var t=this;this.s.ondata=function(n,r,i){t.ondata(n,r,i)};this.s.ondrain=function(n){t.queuedSize-=n;t.ondrain&&t.ondrain(n)}};
/**
     * Pushes a chunk to be decompressed
     * @param chunk The chunk to push
     * @param final Whether this is the last chunk
     */AsyncDecompress.prototype.push=function(t,n){this.queuedSize+=t.length;j.prototype.push.call(this,t,n)};return AsyncDecompress}();function decompress(t,n,r){r||(r=n,n={});typeof r!="function"&&err(7);return t[0]==31&&t[1]==139&&t[2]==8?gunzip(t,n,r):(t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31?inflate(t,n,r):unzlib(t,n,r)}
/**
 * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format
 * @param data The data to decompress
 * @param opts The decompression options
 * @returns The decompressed version of the data
 */function decompressSync(t,n){return t[0]==31&&t[1]==139&&t[2]==8?gunzipSync(t,n):(t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31?inflateSync(t,n):unzlibSync(t,n)}var fltn=function(t,r,i,e){for(var a in t){var s=t[a],o=r+a,u=e;Array.isArray(s)&&(u=mrg(e,s[1]),s=s[0]);if(s instanceof n)i[o]=[s,u];else{i[o+="/"]=[new n(0),u];fltn(s,o,i,e)}}};var B=typeof TextEncoder!="undefined"&&new TextEncoder;var N=typeof TextDecoder!="undefined"&&new TextDecoder;var R=0;try{N.decode(T,{stream:true});R=1}catch(t){}var dutf8=function(t){for(var n="",r=0;;){var i=t[r++];var e=(i>127)+(i>223)+(i>239);if(r+e>t.length)return{s:n,r:slc(t,r-1)};e?e==3?(i=((i&15)<<18|(t[r++]&63)<<12|(t[r++]&63)<<6|t[r++]&63)-65536,n+=String.fromCharCode(55296|i>>10,56320|i&1023)):n+=e&1?String.fromCharCode((i&31)<<6|t[r++]&63):String.fromCharCode((i&15)<<12|(t[r++]&63)<<6|t[r++]&63):n+=String.fromCharCode(i)}};var W=function(){
/**
     * Creates a UTF-8 decoding stream
     * @param cb The callback to call whenever data is decoded
     */
function DecodeUTF8(t){this.ondata=t;R?this.t=new TextDecoder:this.p=T}
/**
     * Pushes a chunk to be decoded from UTF-8 binary
     * @param chunk The chunk to push
     * @param final Whether this is the last chunk
     */DecodeUTF8.prototype.push=function(t,r){this.ondata||err(5);r=!!r;if(this.t){this.ondata(this.t.decode(t,{stream:true}),r);if(r){this.t.decode().length&&err(8);this.t=null}}else{this.p||err(4);var i=new n(this.p.length+t.length);i.set(this.p);i.set(t,this.p.length);var e=dutf8(i),a=e.s,s=e.r;if(r){s.length&&err(8);this.p=null}else this.p=s;this.ondata(a,r)}};return DecodeUTF8}();var Y=function(){
/**
     * Creates a UTF-8 decoding stream
     * @param cb The callback to call whenever data is encoded
     */
function EncodeUTF8(t){this.ondata=t}
/**
     * Pushes a chunk to be encoded to UTF-8
     * @param chunk The string data to push
     * @param final Whether this is the last chunk
     */EncodeUTF8.prototype.push=function(t,n){this.ondata||err(5);this.d&&err(4);this.ondata(strToU8(t),this.d=n||false)};return EncodeUTF8}();
/**
 * Converts a string into a Uint8Array for use with compression/decompression methods
 * @param str The string to encode
 * @param latin1 Whether or not to interpret the data as Latin-1. This should
 *               not need to be true unless decoding a binary string.
 * @returns The string encoded in UTF-8/Latin-1 binary
 */function strToU8(t,r){if(r){var i=new n(t.length);for(var e=0;e<t.length;++e)i[e]=t.charCodeAt(e);return i}if(B)return B.encode(t);var a=t.length;var s=new n(t.length+(t.length>>1));var o=0;var w=function(t){s[o++]=t};for(e=0;e<a;++e){if(o+5>s.length){var u=new n(o+8+(a-e<<1));u.set(s);s=u}var f=t.charCodeAt(e);f<128||r?w(f):f<2048?(w(192|f>>6),w(128|f&63)):f>55295&&f<57344?(f=65536+(f&1047552)|t.charCodeAt(++e)&1023,w(240|f>>18),w(128|f>>12&63),w(128|f>>6&63),w(128|f&63)):(w(224|f>>12),w(128|f>>6&63),w(128|f&63))}return slc(s,0,o)}
/**
 * Converts a Uint8Array to a string
 * @param dat The data to decode to string
 * @param latin1 Whether or not to interpret the data as Latin-1. This should
 *               not need to be true unless encoding to binary string.
 * @returns The original UTF-8/Latin-1 string
 */function strFromU8(t,n){if(n){var r="";for(var i=0;i<t.length;i+=16384)r+=String.fromCharCode.apply(null,t.subarray(i,i+16384));return r}if(N)return N.decode(t);var e=dutf8(t),a=e.s;r=e.r;r.length&&err(8);return a}var dbf=function(t){return t==1?3:t<6?2:t==9?1:0};var slzh=function(t,n){return n+30+b2(t,n+26)+b2(t,n+28)};var zh=function(t,n,r){var i=b2(t,n+28),e=strFromU8(t.subarray(n+46,n+46+i),!(b2(t,n+8)&2048)),a=n+46+i,s=b4(t,n+20);var o=r&&s==4294967295?z64e(t,a):[s,b4(t,n+24),b4(t,n+42)],u=o[0],f=o[1],h=o[2];return[b2(t,n+10),u,f,e,a+b2(t,n+30)+b2(t,n+32),h]};var z64e=function(t,n){for(;b2(t,n)!=1;n+=4+b2(t,n+2));return[b8(t,n+12),b8(t,n+4),b8(t,n+20)]};var exfl=function(t){var n=0;if(t)for(var r in t){var i=t[r].length;i>65535&&err(9);n+=i+4}return n};var wzh=function(t,n,r,i,e,a,s,o){var u=i.length,f=r.extra,h=o&&o.length;var l=exfl(f);wbytes(t,n,s!=null?33639248:67324752),n+=4;s!=null&&(t[n++]=20,t[n++]=r.os);t[n]=20,n+=2;t[n++]=r.flag<<1|(a<0&&8),t[n++]=e&&8;t[n++]=r.compression&255,t[n++]=r.compression>>8;var c=new Date(r.mtime==null?Date.now():r.mtime),v=c.getFullYear()-1980;(v<0||v>119)&&err(10);wbytes(t,n,v<<25|c.getMonth()+1<<21|c.getDate()<<16|c.getHours()<<11|c.getMinutes()<<5|c.getSeconds()>>1),n+=4;if(a!=-1){wbytes(t,n,r.crc);wbytes(t,n+4,a<0?-a-2:a);wbytes(t,n+8,r.size)}wbytes(t,n+12,u);wbytes(t,n+14,l),n+=16;if(s!=null){wbytes(t,n,h);wbytes(t,n+6,r.attrs);wbytes(t,n+10,s),n+=14}t.set(i,n);n+=u;if(l)for(var p in f){var d=f[p],g=d.length;wbytes(t,n,+p);wbytes(t,n+2,g);t.set(d,n+4),n+=4+g}h&&(t.set(o,n),n+=h);return n};var wzf=function(t,n,r,i,e){wbytes(t,n,101010256);wbytes(t,n+8,r);wbytes(t,n+10,r);wbytes(t,n+12,i);wbytes(t,n+16,e)};var J=function(){
/**
     * Creates a pass-through stream that can be added to ZIP archives
     * @param filename The filename to associate with this data stream
     */
function ZipPassThrough(t){this.filename=t;this.c=crc();this.size=0;this.compression=0}
/**
     * Processes a chunk and pushes to the output stream. You can override this
     * method in a subclass for custom behavior, but by default this passes
     * the data through. You must call this.ondata(err, chunk, final) at some
     * point in this method.
     * @param chunk The chunk to process
     * @param final Whether this is the last chunk
     */ZipPassThrough.prototype.process=function(t,n){this.ondata(null,t,n)};
/**
     * Pushes a chunk to be added. If you are subclassing this with a custom
     * compression algorithm, note that you must push data from the source
     * file only, pre-compression.
     * @param chunk The chunk to push
     * @param final Whether this is the last chunk
     */ZipPassThrough.prototype.push=function(t,n){this.ondata||err(5);this.c.p(t);this.size+=t.length;n&&(this.crc=this.c.d());this.process(t,n||false)};return ZipPassThrough}();var K=function(){
/**
     * Creates a DEFLATE stream that can be added to ZIP archives
     * @param filename The filename to associate with this data stream
     * @param opts The compression options
     */
function ZipDeflate(t,n){var r=this;n||(n={});J.call(this,t);this.d=new x(n,(function(t,n){r.ondata(null,t,n)}));this.compression=8;this.flag=dbf(n.level)}ZipDeflate.prototype.process=function(t,n){try{this.d.push(t,n)}catch(t){this.ondata(t,null,n)}};
/**
     * Pushes a chunk to be deflated
     * @param chunk The chunk to push
     * @param final Whether this is the last chunk
     */ZipDeflate.prototype.push=function(t,n){J.prototype.push.call(this,t,n)};return ZipDeflate}();var Q=function(){
/**
     * Creates an asynchronous DEFLATE stream that can be added to ZIP archives
     * @param filename The filename to associate with this data stream
     * @param opts The compression options
     */
function AsyncZipDeflate(t,n){var r=this;n||(n={});J.call(this,t);this.d=new Z(n,(function(t,n,i){r.ondata(t,n,i)}));this.compression=8;this.flag=dbf(n.level);this.terminate=this.d.terminate}AsyncZipDeflate.prototype.process=function(t,n){this.d.push(t,n)};
/**
     * Pushes a chunk to be deflated
     * @param chunk The chunk to push
     * @param final Whether this is the last chunk
     */AsyncZipDeflate.prototype.push=function(t,n){J.prototype.push.call(this,t,n)};return AsyncZipDeflate}();var V=function(){
/**
     * Creates an empty ZIP archive to which files can be added
     * @param cb The callback to call whenever data for the generated ZIP archive
     *           is available
     */
function Zip(t){this.ondata=t;this.u=[];this.d=1}
/**
     * Adds a file to the ZIP archive
     * @param file The file stream to add
     */Zip.prototype.add=function(t){var r=this;this.ondata||err(5);if(this.d&2)this.ondata(err(4+8*(this.d&1),0,1),null,false);else{var i=strToU8(t.filename),e=i.length;var a=t.comment,s=a&&strToU8(a);var o=e!=t.filename.length||s&&a.length!=s.length;var u=e+exfl(t.extra)+30;e>65535&&this.ondata(err(11,0,1),null,false);var f=new n(u);wzh(f,0,t,i,o,-1);var h=[f];var pAll_1=function(){for(var t=0,n=h;t<n.length;t++){var i=n[t];r.ondata(null,i,false)}h=[]};var l=this.d;this.d=0;var c=this.u.length;var v=mrg(t,{f:i,u:o,o:s,t:function(){t.terminate&&t.terminate()},r:function(){pAll_1();if(l){var t=r.u[c+1];t?t.r():r.d=1}l=1}});var p=0;t.ondata=function(i,e,a){if(i){r.ondata(i,e,a);r.terminate()}else{p+=e.length;h.push(e);if(a){var s=new n(16);wbytes(s,0,134695760);wbytes(s,4,t.crc);wbytes(s,8,p);wbytes(s,12,t.size);h.push(s);v.c=p,v.b=u+p+16,v.crc=t.crc,v.size=t.size;l&&v.r();l=1}else l&&pAll_1()}};this.u.push(v)}};Zip.prototype.end=function(){var t=this;if(this.d&2)this.ondata(err(4+8*(this.d&1),0,1),null,true);else{this.d?this.e():this.u.push({r:function(){if(t.d&1){t.u.splice(-1,1);t.e()}},t:function(){}});this.d=3}};Zip.prototype.e=function(){var t=0,r=0,i=0;for(var e=0,a=this.u;e<a.length;e++){var s=a[e];i+=46+s.f.length+exfl(s.extra)+(s.o?s.o.length:0)}var o=new n(i+22);for(var u=0,f=this.u;u<f.length;u++){s=f[u];wzh(o,t,s,s.f,s.u,-s.c-2,r,s.o);t+=46+s.f.length+exfl(s.extra)+(s.o?s.o.length:0),r+=s.b}wzf(o,t,this.u.length,i,r);this.ondata(null,o,true);this.d=2};Zip.prototype.terminate=function(){for(var t=0,n=this.u;t<n.length;t++){var r=n[t];r.t()}this.d=2};return Zip}();function zip(t,r,i){i||(i=r,r={});typeof i!="function"&&err(7);var e={};fltn(t,"",e,r);var a=Object.keys(e);var s=a.length,o=0,u=0;var f=s,h=new Array(s);var l=[];var tAll=function(){for(var t=0;t<l.length;++t)l[t]()};var cbd=function(t,n){rt((function(){i(t,n)}))};rt((function(){cbd=i}));var cbf=function(){var t=new n(u+22),r=o,i=u-o;u=0;for(var e=0;e<f;++e){var a=h[e];try{var s=a.c.length;wzh(t,u,a,a.f,a.u,s);var l=30+a.f.length+exfl(a.extra);var c=u+l;t.set(a.c,c);wzh(t,o,a,a.f,a.u,s,u,a.m),o+=16+l+(a.m?a.m.length:0),u=c+s}catch(t){return cbd(t,null)}}wzf(t,o,h.length,i,r);cbd(null,t)};s||cbf();var _loop_1=function(t){var n=a[t];var r=e[n],i=r[0],f=r[1];var c=crc(),v=i.length;c.p(i);var p=strToU8(n),d=p.length;var g=f.comment,y=g&&strToU8(g),m=y&&y.length;var b=exfl(f.extra);var z=f.level==0?0:8;var cbl=function(r,i){if(r){tAll();cbd(r,null)}else{var e=i.length;h[t]=mrg(f,{size:v,crc:c.d(),c:i,f:p,m:y,u:d!=n.length||y&&g.length!=m,compression:z});o+=30+d+b+e;u+=76+2*(d+b)+(m||0)+e;--s||cbf()}};d>65535&&cbl(err(11,0,1),null);if(z)if(v<16e4)try{cbl(null,deflateSync(i,f))}catch(t){cbl(t,null)}else l.push(deflate(i,f,cbl));else cbl(null,i)};for(var c=0;c<f;++c)_loop_1(c);return tAll}
/**
 * Synchronously creates a ZIP file. Prefer using `zip` for better performance
 * with more than one file.
 * @param data The directory structure for the ZIP archive
 * @param opts The main options, merged with per-file options
 * @returns The generated ZIP archive
 */function zipSync(t,r){r||(r={});var i={};var e=[];fltn(t,"",i,r);var a=0;var s=0;for(var o in i){var u=i[o],f=u[0],h=u[1];var l=h.level==0?0:8;var c=strToU8(o),v=c.length;var p=h.comment,d=p&&strToU8(p),g=d&&d.length;var y=exfl(h.extra);v>65535&&err(11);var m=l?deflateSync(f,h):f,b=m.length;var z=crc();z.p(f);e.push(mrg(h,{size:f.length,crc:z.d(),c:m,f:c,m:d,u:v!=o.length||d&&p.length!=g,o:a,compression:l}));a+=30+v+y+b;s+=76+2*(v+y)+(g||0)+b}var S=new n(s+22),U=a,A=s-a;for(var D=0;D<e.length;++D){c=e[D];wzh(S,c.o,c,c.f,c.u,c.c.length);var T=30+c.f.length+exfl(c.extra);S.set(c.c,c.o+T);wzh(S,a,c,c.f,c.u,c.c.length,c.o,c.m),a+=16+T+(c.m?c.m.length:0)}wzf(S,a,e.length,A,U);return S}var X=function(){function UnzipPassThrough(){}UnzipPassThrough.prototype.push=function(t,n){this.ondata(null,t,n)};UnzipPassThrough.compression=0;return UnzipPassThrough}();var _=function(){function UnzipInflate(){var t=this;this.i=new I((function(n,r){t.ondata(null,n,r)}))}UnzipInflate.prototype.push=function(t,n){try{this.i.push(t,n)}catch(t){this.ondata(t,null,n)}};UnzipInflate.compression=8;return UnzipInflate}();var tt=function(){function AsyncUnzipInflate(t,n){var r=this;if(n<32e4)this.i=new I((function(t,n){r.ondata(null,t,n)}));else{this.i=new F((function(t,n,i){r.ondata(t,n,i)}));this.terminate=this.i.terminate}}AsyncUnzipInflate.prototype.push=function(t,n){this.i.terminate&&(t=slc(t,0));this.i.push(t,n)};AsyncUnzipInflate.compression=8;return AsyncUnzipInflate}();var nt=function(){
/**
     * Creates a ZIP decompression stream
     * @param cb The callback to call whenever a file in the ZIP archive is found
     */
function Unzip(t){this.onfile=t;this.k=[];this.o={0:X};this.p=T}
/**
     * Pushes a chunk to be unzipped
     * @param chunk The chunk to push
     * @param final Whether this is the last chunk
     */Unzip.prototype.push=function(t,r){var i=this;this.onfile||err(5);this.p||err(4);if(this.c>0){var e=Math.min(this.c,t.length);var a=t.subarray(0,e);this.c-=e;this.d?this.d.push(a,!this.c):this.k[0].push(a);t=t.subarray(e);if(t.length)return this.push(t,r)}else{var s=0,o=0,u=void 0,f=void 0;if(this.p.length)if(t.length){f=new n(this.p.length+t.length);f.set(this.p),f.set(t,this.p.length)}else f=this.p;else f=t;var h=f.length,l=this.c,c=l&&this.d;var _loop_2=function(){var t;var n=b4(f,o);if(n==67324752){s=1,u=o;v.d=null;v.c=0;var r=b2(f,o+6),e=b2(f,o+8),a=r&2048,c=r&8,p=b2(f,o+26),d=b2(f,o+28);if(h>o+30+p+d){var g=[];v.k.unshift(g);s=2;var y=b4(f,o+18),m=b4(f,o+22);var b=strFromU8(f.subarray(o+30,o+=30+p),!a);y==4294967295?(t=c?[-2]:z64e(f,o),y=t[0],m=t[1]):c&&(y=-1);o+=d;v.c=y;var z;var S={name:b,compression:e,start:function(){S.ondata||err(5);if(y){var t=i.o[e];t||S.ondata(err(14,"unknown compression type "+e,1),null,false);z=y<0?new t(b):new t(b,y,m);z.ondata=function(t,n,r){S.ondata(t,n,r)};for(var n=0,r=g;n<r.length;n++){var a=r[n];z.push(a,false)}i.k[0]==g&&i.c?i.d=z:z.push(T,true)}else S.ondata(null,T,true)},terminate:function(){z&&z.terminate&&z.terminate()}};y>=0&&(S.size=y,S.originalSize=m);v.onfile(S)}return"break"}if(l){if(n==134695760){u=o+=12+(l==-2&&8),s=3,v.c=0;return"break"}if(n==33639248){u=o-=4,s=3,v.c=0;return"break"}}};var v=this;for(;o<h-4;++o){var p=_loop_2();if(p==="break")break}this.p=T;if(l<0){var d=s?f.subarray(0,u-12-(l==-2&&8)-(b4(f,u-16)==134695760&&4)):f.subarray(0,o);c?c.push(d,!!s):this.k[+(s==2)].push(d)}if(s&2)return this.push(f.subarray(o),r);this.p=f.subarray(o)}if(r){this.c&&err(13);this.p=null}};
/**
     * Registers a decoder with the stream, allowing for files compressed with
     * the compression type provided to be expanded correctly
     * @param decoder The decoder constructor
     */Unzip.prototype.register=function(t){this.o[t.compression]=t};return Unzip}();var rt=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(t){t()};function unzip(t,r,i){i||(i=r,r={});typeof i!="function"&&err(7);var e=[];var tAll=function(){for(var t=0;t<e.length;++t)e[t]()};var a={};var cbd=function(t,n){rt((function(){i(t,n)}))};rt((function(){cbd=i}));var s=t.length-22;for(;b4(t,s)!=101010256;--s)if(!s||t.length-s>65558){cbd(err(13,0,1),null);return tAll}var o=b2(t,s+8);if(o){var u=o;var f=b4(t,s+16);var h=f==4294967295||u==65535;if(h){var l=b4(t,s-12);h=b4(t,l)==101075792;if(h){u=o=b4(t,l+32);f=b4(t,l+48)}}var c=r&&r.filter;var _loop_3=function(r){var i=zh(t,f,h),s=i[0],u=i[1],l=i[2],v=i[3],p=i[4],d=i[5],g=slzh(t,d);f=p;var cbl=function(t,n){if(t){tAll();cbd(t,null)}else{n&&(a[v]=n);--o||cbd(null,a)}};if(!c||c({name:v,size:u,originalSize:l,compression:s}))if(s)if(s==8){var y=t.subarray(g,g+u);if(l<524288||u>.8*l)try{cbl(null,inflateSync(y,{out:new n(l)}))}catch(t){cbl(t,null)}else e.push(inflate(y,{size:l},cbl))}else cbl(err(14,"unknown compression type "+s,1),null);else cbl(null,slc(t,g,g+u));else cbl(null,null)};for(var v=0;v<u;++v)_loop_3(v)}else cbd(null,{});return tAll}
/**
 * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better
 * performance with more than one file.
 * @param data The raw compressed ZIP file
 * @param opts The ZIP extraction options
 * @returns The decompressed files
 */function unzipSync(t,r){var i={};var e=t.length-22;for(;b4(t,e)!=101010256;--e)(!e||t.length-e>65558)&&err(13);var a=b2(t,e+8);if(!a)return{};var s=b4(t,e+16);var o=s==4294967295||a==65535;if(o){var u=b4(t,e-12);o=b4(t,u)==101075792;if(o){a=b4(t,u+32);s=b4(t,u+48)}}var f=r&&r.filter;for(var h=0;h<a;++h){var l=zh(t,s,o),c=l[0],v=l[1],p=l[2],d=l[3],g=l[4],y=l[5],m=slzh(t,y);s=g;f&&!f({name:d,size:v,originalSize:p,compression:c})||(c?c==8?i[d]=inflateSync(t.subarray(m,m+v),{out:new n(p)}):err(14,"unknown compression type "+c):i[d]=slc(t,m,m+v))}return i}export{O as AsyncCompress,H as AsyncDecompress,Z as AsyncDeflate,E as AsyncGunzip,O as AsyncGzip,F as AsyncInflate,tt as AsyncUnzipInflate,$ as AsyncUnzlib,Q as AsyncZipDeflate,P as AsyncZlib,C as Compress,W as DecodeUTF8,j as Decompress,x as Deflate,Y as EncodeUTF8,U as FlateErrorCode,G as Gunzip,C as Gzip,I as Inflate,nt as Unzip,_ as UnzipInflate,X as UnzipPassThrough,L as Unzlib,V as Zip,K as ZipDeflate,J as ZipPassThrough,q as Zlib,gzip as compress,gzipSync as compressSync,decompress,decompressSync,deflate,deflateSync,gunzip,gunzipSync,gzip,gzipSync,inflate,inflateSync,strFromU8,strToU8,unzip,unzipSync,unzlib,unzlibSync,zip,zipSync,zlib,zlibSync};


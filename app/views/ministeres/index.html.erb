<% content_for :title do %>Ajouter les ministères | OPERA <% end %>
<main role="main" class="containtAll">
  <div class="fr-container fr-mt-7w">
    <div class="fr-col-lg-10">
      <h1>Ministères</h1>

      <div class="fr-notice fr-notice--info">
        <div class="fr-container">
          <div class="fr-notice__body">
            <p class="fr-notice__title">
              Attention, si vous modifiez le nom d'un ministère, pensez à modifier le nom de l'autorité de contrôle également.
            </p>
          </div>
        </div>
      </div>
      <div class="fr-my-4w">
        <% @ministeres.each do |ministere| %>
        <div><%= ministere.nom %> - <%= link_to edit_ministere_path(ministere) do%>Modifier<%end %></div>
        <%end %>
      </div>

      <div class="fr-mb-4w">
        <h2>Ajouter un ministère</h2>
        <%= form_with(model: Ministere.new) do |f| %>
          <div class="fr-input-group">
            <label for="nom" class="fr-label">Nom du ministère</label>
            <%= f.text_field :nom, id:"nom", class:"fr-input"%>
          </div>
          <%= f.submit "Valider", class: "fr-btn" %>
        <% end %>
      </div>
      <div>
        <%= form_tag import_ministeres_path, multipart: true do %>
          <div class="fr-upload-group">
            <label class="fr-label" for="file-upload">OU Importer un fichier
              <span class="fr-hint-text">Taille maximale : 50 Mo. Formats supportés : xlsx. </span>
            </label>
            <%= file_field_tag  :file, accept: '.xlsx', class: "fr-upload", id: "file-upload" %>
          </div>
          <div class="fr-my-4w"><%= submit_tag "Transmettre", class:"fr-btn" %></div>
        <% end %>
      </div>

    </div>
  </div>
</main>

